<!DOCTYPE html>
<html lang="ru" data-theme="light" style="color-scheme: light;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –æ–±—Å—Ç–∞–Ω–æ–≤–∫–∏ - –ø—Ä–æ–µ–∫—Ç –∫–æ–º–∞–Ω–¥—ã –†—É–¥–∏—Ä–æ–Ω—á–∏–∫–∏">
    <meta name="keywords" content="—ç–∫–æ–ª–æ–≥–∏—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –¥–∞–≤–ª–µ–Ω–∏–µ, –æ—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å, –≥—Ä–∞—Ñ–∏–∫–∏">

    <!-- –ú–µ—Ç–∞—Ç–µ–≥–∏ —Ç–µ–º—ã -->
    <meta name="color-scheme" content="light">
    <meta name="theme-color" content="#45AEAC">
    <meta name="supported-color-schemes" content="light">

    <title>–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - –°—Ç–∞–Ω—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ | –†—É–¥–∏—Ä–æ–Ω—á–∏–∫–∏</title>

    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="preload" href="styles/main.css" as="style">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/chart.js" as="script" crossorigin="anonymous">

    <!-- –ò–∫–æ–Ω–∫–∏ -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.png">

    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="styles/main.css">

    <!-- Open Graph -->
    <meta property="og:title" content="–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - –°—Ç–∞–Ω—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞">
    <meta property="og:description" content="–ü—Ä–æ–µ–∫—Ç –∫–æ–º–∞–Ω–¥—ã –†—É–¥–∏—Ä–æ–Ω—á–∏–∫–∏ –¥–ª—è –∫–µ–π—Å-—á–µ–º–ø–∏–æ–Ω–∞—Ç–∞ –ö–ê–ü–ß–ê">
    <meta property="og:image" content="assets/images/preview.jpg">
    <meta property="og:type" content="website">

    <!-- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã -->
    <style>
        /* ==================== –ë–õ–û–ö–ò–†–û–í–ö–ê –¢–ï–ú–ù–û–ô –¢–ï–ú–´ ==================== */
        :root, html, body {
            color-scheme: light !important;
        }

        @media (prefers-color-scheme: dark) {
            :root, html, body {
                color-scheme: light !important;
            }

            body {
                background: linear-gradient(135deg, #45AEAC, #B0FAB4) !important;
                color: #1a1a1a !important;
            }

            /* –ë–µ–ª—ã–µ –±–ª–æ–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ */
            .charts-chartjs,
            .chartjs-container,
            .filters,
            .carousel__item {
                background: #ffffff !important;
                border-color: #e9ecef !important;
                color: #1a1a1a !important;
            }

            /* –ö–Ω–æ–ø–∫–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü */
            .charts__nav-btn {
                background: #45AEAC !important;
                color: #ffffff !important;
                border: none !important;
            }

            /* –ü–æ–¥–≤–∞–ª */
            .footer {
                background: #1a1a1a !important;
                color: #ffffff !important;
            }
        }
    </style>
</head>
<body class="light-theme">
    <div id="root" aria-live="polite" aria-label="–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π"></div>

    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" crossorigin="anonymous"></script>

    <!-- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ -->
    <script>
        window.addEventListener('error', function(e) {
            const root = document.getElementById('root');
            if (root) {
                root.innerHTML = `
                    <div style="padding: 3rem 2rem; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; font-family: 'Segoe UI', sans-serif;">
                        <div style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); padding: 2.5rem; border-radius: 1.5rem; max-width: 600px; border: 1px solid rgba(255, 255, 255, 0.2);">
                            <h2 style="margin-bottom: 1rem; font-size: 1.75rem;">‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</h2>
                            <p style="margin-bottom: 1.5rem; opacity: 0.9; line-height: 1.6;">
                                –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞.
                                –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–æ —Å –º–µ–¥–ª–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –Ω–µ–ø–æ–ª–∞–¥–∫–∞–º–∏.
                            </p>
                            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                                <button onclick="window.location.reload()" style="padding: 0.75rem 1.5rem; background: rgba(255, 255, 255, 0.2); color: white; border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 0.75rem; cursor: pointer; font-weight: 600;">
                                    üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
                                </button>
                                <button onclick="location.href='./'" style="padding: 0.75rem 1.5rem; background: rgba(69, 174, 172, 0.8); color: white; border: none; border-radius: 0.75rem; cursor: pointer; font-weight: 600;">
                                    üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }
        });
    </script>

    <!-- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="js/utils/dateUtils.js" type="text/babel"></script>
    <script src="js/utils/chartUtils.js" type="text/babel"></script>
    <script src="js/utils/domUtils.js" type="text/babel"></script>
    <script src="js/services/DataService.js" type="text/babel"></script>
    <script src="js/components/Header.js" type="text/babel"></script>
    <script src="js/components/TeamCarousel.js" type="text/babel"></script>
    <script src="js/components/ChartContainerChartJS.js" type="text/babel"></script>
    <script src="js/components/Footer.js" type="text/babel"></script>
    <script src="js/app.js" type="text/babel"></script>

    <!-- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API -->
    <script src="js/test-api.js"></script>

    <!-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ API –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ -->
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', async () => {
            console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API...');

            try {
                // –ü—Ä–æ–±—É–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API
                const response = await fetch('http://127.0.0.1:8000/telemetry', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω! –î–∞–Ω–Ω—ã–µ:', data);

                    // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
                    const notification = document.createElement('div');
                    notification.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: #28a745;
                        color: white;
                        padding: 12px 18px;
                        border-radius: 8px;
                        z-index: 10000;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                        font-family: 'Segoe UI', sans-serif;
                        animation: slideIn 0.3s ease;
                        display: flex;
                        align-items: center;
                        gap: 10px;
                    `;
                    notification.innerHTML = `
                        <span style="font-size: 1.2em;">üì°</span>
                        <div>
                            <strong style="display: block; margin-bottom: 4px;">API –ø–æ–¥–∫–ª—é—á–µ–Ω</strong>
                            <span style="font-size: 0.9em; opacity: 0.9;">–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</span>
                        </div>
                    `;
                    document.body.appendChild(notification);

                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                    setTimeout(() => {
                        notification.style.animation = 'slideOut 0.3s ease';
                        setTimeout(() => notification.remove(), 300);
                    }, 5000);

                } else {
                    console.warn('‚ö†Ô∏è API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –°—Ç–∞—Ç—É—Å:', response.status);
                    showApiWarning(`API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (—Å—Ç–∞—Ç—É—Å: ${response.status})`);
                }
            } catch (error) {
                console.warn('‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API:', error.message);
                showApiWarning(`–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ${error.message}`);
            }

            function showApiWarning(message) {
                const warning = document.createElement('div');
                warning.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #ffc107;
                    color: #856404;
                    padding: 12px 18px;
                    border-radius: 8px;
                    z-index: 10000;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                    font-family: 'Segoe UI', sans-serif;
                    animation: slideIn 0.3s ease;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    border: 1px solid #ffeaa7;
                `;
                warning.innerHTML = `
                    <span style="font-size: 1.2em;">‚ö†Ô∏è</span>
                    <div>
                        <strong style="display: block; margin-bottom: 4px;">API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</strong>
                        <span style="font-size: 0.9em;">${message}<br>–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ</span>
                    </div>
                `;
                document.body.appendChild(warning);

                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
                setTimeout(() => {
                    warning.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => warning.remove(), 300);
                }, 8000);
            }

            // –î–æ–±–∞–≤–∏—Ç—å CSS –∞–Ω–∏–º–∞—Ü–∏–∏
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
    <style>
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ */
        #root:empty::after {
            content: 'üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...';
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.25rem;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* –°–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: #45AEAC;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #3a9c9a;
        }
    </style>
</body>
</html>